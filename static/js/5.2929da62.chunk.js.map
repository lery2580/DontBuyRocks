{"version":3,"sources":["page/home/assets sync /^/.//.*$","page/home/assets/0.png","page/home/assets/1.png","page/home/assets/2.png","page/home/assets/3.png","page/home/assets/4.gif","page/home/assets/5.png","page/home/assets/6.png","page/home/assets/7.png","page/home/assets/8.png","page/home/assets/add.png","page/home/assets/bg01.png","page/home/assets/sub.png","page/home/homeContainer/homeContainer.tsx","page/home/homeIndex.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","HomeContainer","useState","mintValue","setMintValue","accounts","setAccounts","account","setAccount","ETHBalance","setETHBalance","maxDBRPurchase","setMaxDBRPurchase","maxDBRs","setMaxDBRs","ERC721DBRTotalSupply","setERC721DBRTotalSupply","ERC721SaleIsActive","setERC721SaleIsActive","ERC721Name","setERC721Name","ERC721Symbol","setERC721Symbol","ERC721Price","setERC721Price","useEffect","a","getAccounts","Number","getMaxDBRPurchase","getMaxDBRs","totalSupply","saleIsActive","name","symbol","DBRPrice","length","console","log","getETHBalance","className","href","target","v","key","src","require","alt","onClick","Math","floor","Toast","show","pow","label","mint","numberOfTokens","price","HomeIndex"],"mappings":"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","file":"static/js/5.2929da62.chunk.js","sourcesContent":["var map = {\n\t\"./0.png\": 569,\n\t\"./1.png\": 570,\n\t\"./2.png\": 571,\n\t\"./3.png\": 572,\n\t\"./4.gif\": 573,\n\t\"./5.png\": 574,\n\t\"./6.png\": 575,\n\t\"./7.png\": 576,\n\t\"./8.png\": 577,\n\t\"./add.png\": 578,\n\t\"./bg01.png\": 579,\n\t\"./sub.png\": 580\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 568;","module.exports = __webpack_public_path__ + \"static/media/0.f33bf15d.png\";","module.exports = __webpack_public_path__ + \"static/media/1.ce84f9fe.png\";","module.exports = __webpack_public_path__ + \"static/media/2.1ad9184b.png\";","module.exports = __webpack_public_path__ + \"static/media/3.6b31d6ec.png\";","module.exports = __webpack_public_path__ + \"static/media/4.6ddcb2fd.gif\";","module.exports = __webpack_public_path__ + \"static/media/5.67482643.png\";","module.exports = __webpack_public_path__ + \"static/media/6.4d72f9c0.png\";","module.exports = __webpack_public_path__ + \"static/media/7.8f4c2a55.png\";","module.exports = __webpack_public_path__ + \"static/media/8.f8c2a087.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACKSURBVHgB7VbBCcAgDEylK/h3k7pJ3ayOopv07w7aFKRIC+358FHIwaGBHIeRg0wEQmvt+FhqGVNKHtHNhMMy16b2iEjRYIiBGPzAYLol9A2Waep9ZwZAE2d6JhSBYTqkcfiIzheEnHP5alRKWWpGxJoAaCKh4L/yzFK5oTrJgRiIQd9WcSW+J6EHW3ofa4ammykAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/bg01.2089f31a.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAECAYAAACUY/8YAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAA0SURBVHgBtc9BDQAgDEPR0mBhesAJSGXGCkNEX9Lef4uIDWDAI3vdrC2YEGa/4Ei6MCCZD5JbB8p43g0SAAAAAElFTkSuQmCC\"","import React, { useState, useEffect } from \"react\";\nimport BtnWidget from \"@/components/form/btnWidget\";\nimport {\n  getAccounts,\n  name,\n  symbol,\n  // getERC721Balance,\n  // getERC721TokenIdByIndex,\n  // getERC721TokenURI,\n  maxDBRPurchase as getMaxDBRPurchase,\n  totalSupply,\n  saleIsActive,\n  maxDBRs as getMaxDBRs,\n  getETHBalance,\n  DBRPrice,\n  mint,\n} from \"@/services/web3\";\nimport Toast from \"@/components/toast\";\n\nimport \"./homeContainer.less\";\nfunction HomeContainer() {\n  const [mintValue, setMintValue] = useState(1);\n  const [accounts, setAccounts] = useState<string[] | null>(null);\n  const [account, setAccount] = useState(\"\");\n  const [ETHBalance, setETHBalance] = useState(\"\");\n  const [maxDBRPurchase, setMaxDBRPurchase] = useState(20);\n  const [maxDBRs, setMaxDBRs] = useState(10000);\n  const [ERC721DBRTotalSupply, setERC721DBRTotalSupply] = useState(10000);\n  const [ERC721SaleIsActive, setERC721SaleIsActive] = useState(true);\n\n  const [ERC721Name, setERC721Name] = useState(\"\");\n  const [ERC721Symbol, setERC721Symbol] = useState(\"\");\n  const [ERC721Price, setERC721Price] = useState(\"100000000000000000000\");\n\n  // const [ERC721Balance, setERC721Balance] = useState<String>(\"\");\n  // const [ERC721Tokens, setERC721Tokens] = useState<{\n  //   [token: string]: {\n  //     tokenURI: string;\n  //     shares?: string | undefined;\n  //     balance?: string | undefined;\n  //     price?: string | undefined;\n  //   };\n  // }>({});\n\n  useEffect(() => {\n    (async () => {\n      setAccounts(await getAccounts());\n      setMaxDBRPurchase(Number(await getMaxDBRPurchase()));\n      setMaxDBRs(Number(await getMaxDBRs()));\n      setERC721DBRTotalSupply(Number(await totalSupply()));\n      setERC721SaleIsActive(await saleIsActive());\n\n      setERC721Name(await name());\n      setERC721Symbol(await symbol());\n      setERC721Price(await DBRPrice());\n    })();\n  }, []);\n  useEffect(() => {\n    if (accounts === null) return;\n    if (accounts.length === 0) return;\n    console.log(accounts);\n    setAccount(accounts[0]);\n    (async () => {\n      setETHBalance(await getETHBalance(accounts[0]));\n      // const balance = await getERC721Balance({ contract, account });\n\n      // setERC721Balance(balance);\n      // if (Number(balance) > 0) {\n      //   const _ERC721Tokens: {\n      //     [token: string]: {\n      //       tokenURI: string;\n      //       shares?: string;\n      //       balance?: string;\n      //       price?: string;\n      //     };\n      //   } = {};\n      //   console.log(\"22222aaa\", account, contract);\n      //   if (ERC721Balance && Number(ERC721Balance) > 0) {\n      //     console.log(\"eeee\", account, contract);\n      //     for (let i = 0; i < Number(ERC721Balance); i++) {\n      //       console.log(\"22222\", account, contract, i);\n      //       const tokenId = await getERC721TokenIdByIndex({\n      //         account,\n      //         contract,\n      //         index: i,\n      //       });\n      //       const tokenURI = await getERC721TokenURI(account, tokenId);\n      //       _ERC721Tokens[tokenId] = {\n      //         tokenURI,\n      //       };\n      //     }\n      //     setERC721Tokens(_ERC721Tokens);\n      //   }\n      // }\n    })();\n  }, [accounts]);\n  return (\n    <div className=\"homeContainer\">\n      <h2>{ERC721Name} on the Fantom</h2>\n      <div className=\"partone\">\n        <div className=\"fl\">\n          <p>\n            Launched in 2021, Don’t Buy Rock is one of the last crypto\n            collectible NFT-type projects on the Fantom blockchain, having\n            launched shortly after EtherRocks. Only 10000 rocks can ever be\n            available, and each new virgin rock gets more and more crazy. This\n            game is built entirely on the Fantom blockchain, with a\n            decentralized smart contract (\n            <a href=\"./\" target=\"_blank\">\n              deployed here\n            </a>\n            ) used to manage everything including the buying and selling of\n            rocks, their prices and owners.\n          </p>\n          <p>\n            These virtual rocks serve NO PURPOSE beyond being able to be brought\n            and sold, and giving you a strong feeling of being teased in being\n            an owner of 1 of the only 10000 rocks in the game :)\n          </p>\n          <p>\n            How to play: you must be connected to the Fantom mainnet to view\n            info on rocks, and some FTM (the currency of FTM) to buy a rock. The\n            easiest way to connect to the Fantom mainnet is to use the MetaMask\n            plugin for Chrome -- go ahead and install it (takes 1 minute), then\n            refresh this page. To get FTM you will need to buy some from an\n            exchange like Coinbase.\n          </p>\n        </div>\n        <div className=\"fr\">\n          <ul>\n            {[0, 1, 2, 3, 4, 5, 6, 7, 8].map((v) => (\n              <li key={v}>\n                <img\n                  src={require(`../assets/${v}.${v === 4 ? \"gif\" : \"png\"}`)}\n                  alt={`NFT-${ERC721Symbol}`}\n                />\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n      <div className=\"parttwo\">\n        <div className=\"fl\">\n          <p>\n            <strong>FAIR DISTRIBUTION</strong>\n          </p>\n          <p>\n            Buying a {ERC721Symbol} costs 100 FTM. There are no price tiers;{\" \"}\n            {ERC721Name}\n            membership costs the same for everyone.\n          </p>\n        </div>\n        <div className=\"fr\">\n          <div className=\"mintNum\">\n            <div\n              className=\"sub\"\n              onClick={() => {\n                console.log(2222);\n                if (mintValue > 0) {\n                  setMintValue(Math.floor(mintValue - 1));\n                }\n              }}\n            ></div>\n            <h3>{mintValue}</h3>\n            <div\n              className=\"add\"\n              onClick={() => {\n                if (account) {\n                  if (\n                    // (ERC721Balance &&\n                    //   Number(ERC721Balance) >= maxDBRPurchase) ||\n                    maxDBRPurchase < mintValue\n                  ) {\n                    Toast.show(\n                      `Maximum purchase per account ${maxDBRPurchase} ${ERC721Symbol}`\n                    );\n                    return false;\n                  }\n                  if (\n                    Number(ETHBalance) * Math.pow(10, 18) <\n                    Number(ERC721Price) * mintValue\n                  ) {\n                    Toast.show(\n                      `over balance ${ETHBalance}， DBR Price：${\n                        Number(ERC721Price) / Math.pow(10, 18)\n                      }`\n                    );\n                  } else {\n                    setMintValue(Math.floor(mintValue + 1));\n                  }\n                } else {\n                  Toast.show(\"failed to connect wallect\");\n                }\n              }}\n            ></div>\n          </div>\n          <BtnWidget\n            label=\"mint\"\n            onClick={() => {\n              if (!ERC721SaleIsActive) {\n                Toast.show(\"coming soon!\");\n                return false;\n              }\n              if (maxDBRPurchase < mintValue) {\n                Toast.show(`Maximum purchase per account ${maxDBRPurchase} ${ERC721Symbol}`);\n                return false;\n              }\n              if (\n                Number(ETHBalance) * Math.pow(10, 18) <\n                Number(ERC721Price) * mintValue\n              ) {\n                Toast.show(\n                  `Exceed balance: ${ETHBalance}， DBR Price: ${\n                    Number(ERC721Price) / Math.pow(10, 18)\n                  }`\n                );\n                return false;\n              }\n              console.log(mintValue);\n              console.log(ERC721Price);\n              mint({\n                numberOfTokens: `${mintValue}`,\n                price: `${ERC721Price}`,\n                account: account,\n              });\n            }}\n          />\n          <div className=\"remaining\">\n            <p>\n              remaining\n              <i>\n                {maxDBRs - ERC721DBRTotalSupply}/{maxDBRs}\n              </i>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default HomeContainer;\n","import React from \"react\";\nimport HeaderWidget from \"@/components/header/headerWidget\";\nimport FooterWidget from \"@/components/footer/footerWidget\";\nimport HomeContainer from \"./homeContainer/homeContainer\";\nimport \"./homeIndex.less\";\n\nfunction HomeIndex() {\n  return (\n    <div className=\"homeIndex\">\n      <HeaderWidget />\n      <HomeContainer />\n      <FooterWidget />\n    </div>\n  );\n}\nexport default HomeIndex;\n"],"sourceRoot":""}